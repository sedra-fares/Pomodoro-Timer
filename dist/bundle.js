(()=>{"use strict";const e=document.getElementById("focus"),t=document.getElementById("shortbreak"),n=document.getElementById("longbreak"),c=document.getElementById("start"),d=document.getElementById("reset"),o=document.getElementById("stop"),r=document.getElementById("timer"),l=document.querySelectorAll(".sound-btn"),s=document.getElementById("current-sound");document.getElementById("end-sound");let u="purple-dream",a=null;const m=e=>{a&&(a.pause(),a.currentTime=0);let t=document.getElementById(e);t&&(a=t,t.currentTime=0,t.play().catch((e=>console.error("Error playing sound: ",e))))};l.forEach((e=>{e.addEventListener("click",(()=>{u=e.getAttribute("data-sound"),s.textContent=e.textContent,m(u)}))}));const i=e=>e<10?`0${e}`:e;let E,g="focus",y=59,I=!0,k=24,v=!1;r.textContent=`${k+1}:00`;const B=()=>{I=!0,clearInterval(E)};c.addEventListener("click",(()=>{I&&(I=!1,r.textContent=`${i(k)}:${i(y)}`,m(u),E=setInterval((()=>{if(0===k&&y<=12&&y>0&&!v&&(m("end-sound"),v=!0),0===y){if(0===k)return void clearInterval(E);k--,y=60}y--,r.textContent=`${i(k)}:${i(y)}`}),1e3))})),o.addEventListener("click",(()=>{B(),a&&(a.pause(),a.currentTime=0)})),d.addEventListener("click",(()=>{switch(B(),v=!1,g){case"long":k=14;break;case"short":k=4;break;default:k=24}y=59,r.textContent=`${k+1}:00`})),t.addEventListener("click",(()=>{B(),g="short",k=4,y=59,r.textContent=`${i(k+1)}:00`})),n.addEventListener("click",(()=>{B(),g="long",k=14,y=59,r.textContent=`${i(k+1)}:00`})),e.addEventListener("click",(()=>{B(),g="focus",k=24,y=59,r.textContent=`${i(k+1)}:00`}))})();